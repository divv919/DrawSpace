"use client";
import CanvasComponentForWS from "@/app/components/canvas/CanvasComponentForWS";
import CanvasComponent from "@/app/components/canvas/CanvasComponentForWS";
import { fetchJSON } from "@/app/lib/rooms";
import { Button } from "@/app/components/ui/Button";
import Dialog, {
  DialogActions,
  DialogContent,
  DialogTitle,
} from "@/app/components/ui/Dialog";
import { easeOut, motion } from "motion/react";
import { BACKEND_BASE_URL } from "@/config/variables";

import { useParams, useRouter } from "next/navigation";
import { useEffect, useState } from "react";

export type RoomUser = {
  username: string;
  role: "user" | "admin" | "moderator";
  isBanned: boolean;
  isOnline: boolean;
  userId: string;
};
const checkOrGetAccess = async (
  slug: string,
  method: "GET" | "POST" = "GET",
  body?: any,
  options?: RequestInit
) => {
  const response = await fetchJSON<{
    userInfo: {
      userId: string;
      access: "user" | "admin" | "moderator" | undefined;
      username: string;
    };
    success: boolean;
    prompt_password: boolean | undefined;

    roomUsers: RoomUser[];
  }>(`/room/${slug}`, {
    method,
    body: JSON.stringify(body),

    credentials: "include",
    ...options,
  });
  return response;
};

const CanvasPage = () => {
  const { slug } = useParams<{ slug: string }>();
  const [password, setPassword] = useState("");
  const [pageState, setPageState] = useState<
    "promptPassword" | "accessGranted" | "unavailable" | "loading"
  >("loading");
  const [roomUsers, setRoomUsers] = useState<RoomUser[]>([]);
  const [user, setUser] = useState<{
    userId: undefined | string;
    access: "user" | "admin" | "moderator" | undefined;
    username: string | undefined;
  }>({ userId: undefined, access: undefined, username: undefined });
  const [isFullyLoaded, setIsFullyLoaded] = useState(false);

  const router = useRouter();
  useEffect(() => {
    async function checkAccess() {
      try {
        setPageState("loading");
        const response = await checkOrGetAccess(slug, "POST");
        if (response.prompt_password) {
          setPageState("promptPassword");
          return;
        }

        if (response.success) {
          const {
            userInfo: { access, userId, username },
          } = response;
          console.log("user info is ", {
            userId,
            access,
            username,
          });
          setUser({
            userId,
            access,
            username,
          });

          setRoomUsers(
            response.roomUsers.map((ru) => {
              return { ...ru, isOnline: false };
            })
          );

          setPageState("accessGranted");
        } else {
          setPageState("unavailable");
        }
        setPassword("");
      } catch (err) {
        setPageState("unavailable");
      }
    }
    checkAccess();
  }, [slug]);

  const handleSubmitPassword = async () => {
    setPageState("loading");
    const response = await checkOrGetAccess(slug, "POST", { password });
    setPassword("");

    if (response.success) {
      if (response.prompt_password) {
        setPageState("promptPassword");
      } else {
        const {
          userInfo: { access, userId, username },
        } = response;
        setUser({ access, userId, username });
        setRoomUsers(
          response.roomUsers.map((ru) => {
            return { ...ru, isOnline: false };
          })
        );
        setPageState("accessGranted");
      }
      console.log("userinfo  ", response.userInfo);
    } else {
      setPageState("unavailable");
    }
  };

  if (pageState === "promptPassword") {
    return (
      <div className="w-screen h-screen flex flex-col items-center justify-center">
        <Dialog>
          <DialogTitle>This Room Is Protected</DialogTitle>
          <DialogContent>
            Enter the password to join the room.
            <input
              type="password"
              className="bg-neutral-700 text-white px-3 py-[6px] text-sm rounded-md focus:outline-none w-full"
              placeholder="Password"
              value={password}
              onChange={(e) => setPassword(e.target.value)}
            />
          </DialogContent>
          <DialogActions>
            <Button
              variant="secondary"
              onClick={() => router.push("/dashboard")}
            >
              Go Back
            </Button>
            <Button variant="primary" onClick={handleSubmitPassword}>
              Submit
            </Button>
          </DialogActions>
        </Dialog>
      </div>
    );
  }
  //   <button
  //   onClick={() => router.push("/dashboard")}
  //   className="cursor-pointer hover:bg-neutral-700 transition-all duration-100 bg-neutral-600 text-white px-3 py-1 text-sm rounded-md"
  // >
  //   Go Back
  // </button>

  // <button
  //   onClick={handleSubmitPassword}
  //   className="cursor-pointer hover:bg-neutral-200 transition-all duration-100 px-3 py-1 text-sm bg-neutral-100 text-neutral-900 rounded-md"
  // >
  //   Submit
  // </button>
  if (pageState === "accessGranted" || pageState === "loading") {
    return (
      <div className="relative">
        {(pageState === "loading" ||
          (pageState === "accessGranted" && !isFullyLoaded)) && (
          <div className="flex items-center justify-center absolute w-screen h-screen bg-neutral-900 z-10">
            <RevealLogo />
          </div>
        )}
        <CanvasComponentForWS
          setIsFullyLoaded={setIsFullyLoaded}
          setRoomUsers={setRoomUsers}
          roomUsers={roomUsers}
          user={user}
          slug={slug}
        />
      </div>
    );
  }

  return (
    <div className="flex flex-col items-center justify-center gap-8 pb-12 h-screen w-screen">
      <UnavailableSVG />
      <div className="text-2xl font-medium">This Room Is Unavailable</div>
    </div>
  );
  // const prevMessages = await getPreviousMessages(params.slug);
  // const existingShapes: string[] = prevMessages.messages.map(
  //   (msg: any) => msg.message
  // );
  // console.log("existing shapes are direct after fetching : ", existingShapes);
  // return (
  //   <div className="h-screen w-screen bg-neutral-900">
  //     <CanvasComponent existingShapes={existingShapes} />
  //   </div>
  // );
};
export default CanvasPage;

const UnavailableSVG = () => {
  return (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      xmlnsXlink="http://www.w3.org/1999/xlink"
      width="400"
      height="200.493"
      viewBox="0 0 800 430.493"
      role="img"
    >
      <g transform="translate(-368.866 -254.661)">
        <ellipse
          cx="149.199"
          cy="26.107"
          rx="149.199"
          ry="26.107"
          transform="translate(368.866 481.453)"
          fill="oklch(26.9% 0 0)"
        />
        <ellipse
          cx="191.906"
          cy="26.107"
          rx="191.906"
          ry="26.107"
          transform="translate(785.054 632.939)"
          fill="oklch(26.9% 0 0)"
        />
        <path
          d="M527.508,703.017a139.876,139.876,0,0,1-34.251-3.807l1.007-3.942c61.693,15.766,176.375-20.484,188.785-59.673l3.879,1.228C676.145,670.877,591.731,703.017,527.508,703.017Z"
          transform="translate(229.585 -61.587)"
          fill="oklch(26.9% 0 0)"
        />
        <path
          d="M422.29,529.663c-14.453-3.693-21.922-7.965-24.218-13.849-2.856-7.316,2.5-15.561,9.919-26.972,11.315-17.409,26.811-41.252,24.3-77.646-1.418-20.568-8.78-35.7-21.879-44.978-26.656-18.878-68.707-7.567-69.129-7.451l-1.085-3.921c1.8-.5,44.3-11.949,72.551,8.041,14.153,10.017,22.094,26.176,23.6,48.028,2.6,37.751-13.977,63.262-24.949,80.143-6.756,10.394-11.637,17.9-9.54,23.275,1.748,4.477,8.559,8.1,21.436,11.386Z"
          transform="translate(278.852 29.977)"
          fill="oklch(26.9% 0 0)"
        />
        <path
          d="M816.039,661.123,795.384,696.05s-26.3,13.971-7.807,14.382,105.6,0,105.6,0,16.847,0-9.862-14.793l-19.389-37.478Z"
          transform="translate(136.968 -68.851)"
          fill="#e6e6e6"
        />
        <rect
          width="348.044"
          height="242.439"
          rx="18.046"
          transform="translate(801.887 355.38)"
          fill="#e6e6e6"
        />
        <path
          d="M2.712,0h319.2a2.712,2.712,0,0,1,2.712,2.712V193.294a2.712,2.712,0,0,1-2.712,2.712H2.712A2.712,2.712,0,0,1,0,193.294V2.712A2.712,2.712,0,0,1,2.712,0Z"
          transform="translate(813.598 368.323)"
          fill="oklch(26.9% 0 0)"
        />
        <circle
          cx="2.055"
          cy="2.055"
          r="2.055"
          transform="translate(973.854 360.516)"
          fill="#f2f2f2"
        />
        <path
          d="M957.868,621.322v21.252a12.236,12.236,0,0,1-12.239,12.237H622.061a12.236,12.236,0,0,1-12.237-12.239V621.322Z"
          transform="translate(192.063 -56.993)"
          fill="#e6e6e6"
        />
        <path
          d="M864.04,660.444v4.109H642.968v-3.288l.3-.822,5.449-14.793h210.8Z"
          transform="translate(202.681 3.326)"
          fill="#f2f2f2"
        />
        <path
          d="M1096.367,755.317c-.4,1.722-1.923,3.538-5.358,5.256-12.327,6.164-37.393-1.644-37.393-1.644s-19.313-3.287-19.313-11.917a15.428,15.428,0,0,1,1.693-1.007c5.183-2.742,22.367-9.508,52.837.286a12.709,12.709,0,0,1,5.792,3.8C1095.859,751.534,1096.828,753.367,1096.367,755.317Z"
          transform="translate(55.429 -95.57)"
          fill="#f2f2f2"
        />
        <path
          d="M1097.171,755.317c-15.089,5.782-28.538,6.213-42.34-3.374-6.961-4.832-13.285-6.028-18.031-5.938,5.183-2.742,22.367-9.508,52.837.286a12.708,12.708,0,0,1,5.792,3.8C1096.663,751.534,1097.631,753.367,1097.171,755.317Z"
          transform="translate(54.626 -95.57)"
          fill="#e6e6e6"
        />
        <path
          d="M864.04,667.466v4.109H642.968v-3.288l.3-.822Z"
          transform="translate(202.681 -3.696)"
          opacity="0.1"
        />
        <path
          d="M794.285,488.635H592.452a6.086,6.086,0,0,1-6.079-6.079V414.467a6.086,6.086,0,0,1,6.079-6.079H794.285a6.086,6.086,0,0,1,6.079,6.079v68.088A6.086,6.086,0,0,1,794.285,488.635Z"
          transform="translate(-181.314 -153.727)"
          fill="oklch(26.9% 0 0)"
        />
        <rect
          width="53.498"
          height="6.079"
          transform="translate(436.671 272.899)"
          fill="#f2f2f2"
        />
        <circle
          cx="3.648"
          cy="3.648"
          r="3.648"
          transform="translate(557.041 272.899)"
          fill="#f2f2f2"
        />
        <circle
          cx="3.648"
          cy="3.648"
          r="3.648"
          transform="translate(569.2 272.899)"
          fill="#f2f2f2"
        />
        <circle
          cx="3.648"
          cy="3.648"
          r="3.648"
          transform="translate(581.358 272.899)"
          fill="#f2f2f2"
        />
        <path
          d="M794.285,601.689H592.452a6.087,6.087,0,0,1-6.079-6.079V527.521a6.086,6.086,0,0,1,6.079-6.079H794.285a6.086,6.086,0,0,1,6.079,6.079v68.088A6.086,6.086,0,0,1,794.285,601.689Z"
          transform="translate(-181.314 -180.455)"
          fill="#e6e6e6"
        />
        <rect
          width="53.498"
          height="6.079"
          transform="translate(436.671 359.225)"
          fill="oklch(26.9% 0 0)"
        />
        <circle
          cx="3.648"
          cy="3.648"
          r="3.648"
          transform="translate(557.041 359.225)"
          fill="oklch(26.9% 0 0)"
        />
        <circle
          cx="3.648"
          cy="3.648"
          r="3.648"
          transform="translate(569.2 359.225)"
          fill="oklch(26.9% 0 0)"
        />
        <circle
          cx="3.648"
          cy="3.648"
          r="3.648"
          transform="translate(581.358 359.225)"
          fill="oklch(26.9% 0 0)"
        />
        <path
          d="M794.285,714.743H592.452a6.087,6.087,0,0,1-6.079-6.079V640.575a6.086,6.086,0,0,1,6.079-6.079H794.285a6.086,6.086,0,0,1,6.079,6.079v68.089A6.086,6.086,0,0,1,794.285,714.743Z"
          transform="translate(-181.314 -207.183)"
          fill="#e6e6e6"
        />
        <rect
          width="53.498"
          height="6.079"
          transform="translate(436.671 445.552)"
          fill="oklch(26.9% 0 0)"
        />
        <circle
          cx="3.648"
          cy="3.648"
          r="3.648"
          transform="translate(557.041 445.552)"
          fill="oklch(26.9% 0 0)"
        />
        <circle
          cx="3.648"
          cy="3.648"
          r="3.648"
          transform="translate(569.2 445.552)"
          fill="oklch(26.9% 0 0)"
        />
        <circle
          cx="3.648"
          cy="3.648"
          r="3.648"
          transform="translate(581.358 445.552)"
          fill="oklch(26.9% 0 0)"
        />
        <g transform="translate(933.489 421.851)">
          <path d="M0,0H88.949V88.949H0Z" fill="none" />
          <path
            d="M39.062,2A37.062,37.062,0,0,1,76.125,39.062a37.06,37.06,0,1,1-74.11,1.2L2,39.062l.015-1.038A37.061,37.061,0,0,1,39.062,2ZM39.1,50.181l-.471.026a3.706,3.706,0,0,0,0,7.361l.434.026.471-.026a3.706,3.706,0,0,0,0-7.361Zm-.037-32.362a3.706,3.706,0,0,0-3.68,3.272l-.026.434v20.25l.026.434a3.706,3.706,0,0,0,7.361,0l.026-.434V21.525l-.026-.434A3.706,3.706,0,0,0,39.062,17.819Z"
            transform="translate(5.412 5.412)"
            fill="#f2f2f2"
          />
        </g>
      </g>
    </svg>
  );
};
const revealVariant = {
  reveal: {
    initial: {
      pathLength: 0,
    },
    animate: {
      pathLength: 1,
    },
    transition: {
      duration: 1,
      ease: easeOut,
      repeat: Infinity,
      repeatType: "loop",
    },
  },
};

export const RevealLogo = () => {
  // 1. I extracted your path data here to keep the JSX clean
  // These are the exact "d" values from your provided SVG
  const pathData = [
    "M168.554 34.0276C166.743 34.0276 165.377 33.5228 164.456 32.5133C163.565 31.5334 163.12 30.316 163.12 28.8611C163.12 27.5249 163.447 26.1145 164.1 24.6299C164.783 23.1453 165.674 21.7497 166.772 20.4433C167.901 19.1368 169.133 18.0827 170.469 17.281C171.805 16.4496 173.126 16.0339 174.433 16.0339C175.116 16.0339 175.739 16.2121 176.304 16.5684C176.897 16.9247 177.194 17.6522 177.194 18.7508C177.194 19.8791 176.853 20.948 176.17 21.9576C175.517 22.9374 174.641 23.8134 173.542 24.5854C172.473 25.3574 171.286 25.9958 169.979 26.5006C168.702 26.9756 167.426 27.2726 166.149 27.3913C166.089 27.6883 166.045 27.9703 166.015 28.2376C165.985 28.5048 165.971 28.7572 165.971 28.9947C165.971 29.4401 166.015 29.8855 166.104 30.3309C166.223 30.7763 166.416 31.192 166.683 31.578C166.95 31.9343 167.307 32.2164 167.752 32.4242C168.227 32.6321 168.806 32.736 169.489 32.736C170.766 32.736 172.028 32.3797 173.275 31.6671C174.522 30.9247 175.68 29.9597 176.749 28.772C177.818 27.5843 178.724 26.2779 179.466 24.8526L180 25.2535C179.199 27.035 178.174 28.579 176.927 29.8855C175.71 31.192 174.374 32.2015 172.919 32.9141C171.493 33.6565 170.038 34.0276 168.554 34.0276ZM166.371 26.5451C167.173 26.2779 168.079 25.8919 169.088 25.3871C170.098 24.8526 171.063 24.2291 171.983 23.5165C172.933 22.8038 173.706 22.017 174.299 21.1559C174.923 20.2948 175.235 19.3892 175.235 18.439C175.235 18.1124 175.175 17.86 175.057 17.6819C174.938 17.5037 174.685 17.4146 174.299 17.4146C173.587 17.4146 172.83 17.6967 172.028 18.2609C171.226 18.7953 170.454 19.508 169.712 20.3987C168.97 21.2895 168.301 22.2694 167.708 23.3383C167.114 24.4072 166.668 25.4762 166.371 26.5451Z",
    "M154.112 34.5621C152.687 34.5621 151.499 34.0871 150.549 33.1369C149.599 32.1867 149.124 30.7615 149.124 28.8612C149.124 27.3765 149.406 25.9365 149.97 24.5409C150.564 23.1157 151.336 21.8389 152.286 20.7106C153.236 19.5823 154.29 18.6915 155.448 18.0382C156.606 17.3553 157.749 17.0139 158.878 17.0139C160.095 17.0139 160.926 17.3702 161.372 18.0828C161.817 18.7954 162.04 19.5377 162.04 20.3097C162.04 21.1708 161.832 21.928 161.416 22.5812C161.03 23.2344 160.496 23.5611 159.813 23.5611C159.308 23.5611 158.878 23.3384 158.521 22.893C158.967 22.6554 159.353 22.1804 159.679 21.4677C160.006 20.7254 160.169 20.0276 160.169 19.3744C160.169 19.0181 160.095 18.7509 159.946 18.5727C159.828 18.3649 159.575 18.2609 159.189 18.2609C158.388 18.2609 157.556 18.6173 156.695 19.3299C155.864 20.0425 155.077 20.963 154.335 22.0913C153.622 23.2196 153.028 24.4073 152.553 25.6544C152.108 26.9015 151.885 28.0743 151.885 29.1729C151.885 30.0934 152.108 30.9396 152.553 31.7117C152.998 32.4837 153.859 32.8697 155.136 32.8697C156.324 32.8697 157.512 32.543 158.699 31.8898C159.917 31.2366 161.045 30.3013 162.084 29.0839C163.124 27.8665 163.955 26.4412 164.578 24.8081L165.157 25.2535C164.475 27.0351 163.539 28.6385 162.352 30.0637C161.164 31.4593 159.857 32.5579 158.432 33.3596C157.007 34.1613 155.567 34.5621 154.112 34.5621Z",
    "M132.086 34.1613C131.165 34.1613 130.393 33.8495 129.77 33.226C129.117 32.6321 128.79 31.7116 128.79 30.4645C128.79 29.3956 129.028 28.2525 129.503 27.0351C129.978 25.788 130.631 24.5706 131.462 23.3829C132.294 22.1655 133.229 21.0669 134.268 20.087C135.337 19.0775 136.451 18.2758 137.609 17.6819C138.796 17.0881 139.969 16.7911 141.127 16.7911C142.285 16.7911 143.25 17.1029 144.022 17.7265C144.794 18.3203 145.18 19.122 145.18 20.1315C145.18 20.8739 144.972 21.3786 144.557 21.6459C144.171 21.9131 143.651 22.0467 142.998 22.0467C143.057 21.8092 143.102 21.5568 143.132 21.2896C143.191 20.9926 143.221 20.7254 143.221 20.4879C143.221 19.8049 143.057 19.2259 142.731 18.7508C142.404 18.2461 141.84 17.9937 141.038 17.9937C140.207 17.9937 139.361 18.2906 138.499 18.8845C137.638 19.4486 136.807 20.2206 136.005 21.2005C135.204 22.1506 134.491 23.1899 133.867 24.3182C133.244 25.4465 132.754 26.56 132.398 27.6586C132.041 28.7572 131.863 29.7371 131.863 30.5982C131.863 31.7562 132.264 32.3352 133.066 32.3352C133.749 32.3352 134.491 32.0234 135.293 31.3999C136.094 30.7466 136.911 29.9301 137.742 28.9502C138.603 27.9407 139.42 26.9014 140.192 25.8325C140.964 24.7636 141.647 23.7837 142.241 22.893C142.36 22.7148 142.434 22.6257 142.463 22.6257C142.642 22.6554 142.864 22.7148 143.132 22.8039C143.428 22.893 143.681 23.0117 143.889 23.1602C144.097 23.3086 144.2 23.5016 144.2 23.7392C144.2 24.0064 144.067 24.3776 143.8 24.8527C143.532 25.298 143.235 25.8177 142.909 26.4115C142.582 27.0054 142.285 27.6141 142.018 28.2376C141.751 28.8315 141.617 29.3956 141.617 29.9301C141.617 30.3755 141.736 30.8209 141.974 31.2662C142.211 31.6819 142.597 31.8898 143.132 31.8898C143.933 31.8898 144.987 31.3108 146.294 30.1528C147.6 28.9651 148.922 27.1984 150.258 24.8527L150.703 25.298C150.08 26.9014 149.278 28.3118 148.298 29.5292C147.318 30.7466 146.264 31.6968 145.136 32.3797C144.037 33.0626 142.953 33.4041 141.884 33.4041C140.786 33.4041 139.969 33.0775 139.435 32.4243C138.93 31.771 138.678 31.0584 138.678 30.2864C138.678 30.1082 138.692 29.9152 138.722 29.7074C138.752 29.4698 138.782 29.2323 138.811 28.9948C137.534 30.7169 136.362 32.0086 135.293 32.8696C134.253 33.7307 133.185 34.1613 132.086 34.1613Z",
    "M109.743 44.5387C109.506 44.5387 109.283 44.4051 109.075 44.1379C108.838 43.9003 108.66 43.6331 108.541 43.3362C108.422 43.0689 108.363 42.9056 108.363 42.8463C108.778 41.3913 109.194 40.0848 109.61 38.9268C109.996 37.7985 110.397 36.6257 110.812 35.4083C111.198 34.2206 111.584 32.825 111.97 31.2216C112.356 29.5885 112.757 27.5694 113.173 25.1644C113.589 22.7593 114.004 19.7752 114.42 16.2121C114.45 15.9448 114.509 15.7518 114.598 15.6331C114.687 15.5143 114.91 15.4549 115.266 15.4549C116.038 15.4549 116.588 15.6776 116.914 16.123C117.241 16.5387 117.404 16.9989 117.404 17.5037C117.404 17.9194 117.315 18.6617 117.137 19.7306C116.959 20.7996 116.706 22.0615 116.38 23.5164C116.885 22.5366 117.508 21.5419 118.25 20.5323C119.022 19.5228 119.898 18.6765 120.878 17.9936C121.858 17.3107 122.927 16.9692 124.085 16.9692C125.391 16.9692 126.46 17.4443 127.292 18.3945C128.153 19.3149 128.583 20.5323 128.583 22.0466C128.583 23.2046 128.316 24.4369 127.782 25.7434C127.277 27.0201 126.549 28.2375 125.599 29.3955C124.679 30.5239 123.58 31.4443 122.303 32.1569C121.027 32.8696 119.616 33.2259 118.072 33.2259C117.3 33.2259 116.677 33.1368 116.202 32.9586C115.727 32.7805 115.489 32.6023 115.489 32.4242C115.489 32.3054 115.593 32.2312 115.801 32.2015C116.038 32.2015 116.306 32.2015 116.602 32.2015C117.79 32.2015 118.918 31.9194 119.987 31.3552C121.086 30.7614 122.066 29.9894 122.927 29.0392C123.788 28.0891 124.456 27.035 124.931 25.877C125.436 24.719 125.688 23.5758 125.688 22.4475C125.688 21.4973 125.481 20.6956 125.065 20.0424C124.679 19.3595 124.04 19.018 123.15 19.018C122.378 19.018 121.606 19.2704 120.834 19.7752C120.091 20.2502 119.379 20.8738 118.696 21.6458C118.043 22.3881 117.449 23.175 116.914 24.0063C116.409 24.808 116.023 25.5355 115.756 26.1887C115.222 28.4157 114.687 30.5535 114.153 32.6023C113.618 34.6808 113.099 36.5514 112.594 38.2142C112.119 39.9067 111.688 41.2874 111.302 42.3563C110.887 43.4253 110.545 44.0785 110.278 44.316C110.13 44.4645 109.951 44.5387 109.743 44.5387Z",
    "M97.7124 35.9428C96.109 35.9428 94.5947 35.6459 93.1695 35.052C91.7442 34.4879 90.5862 33.6119 89.6954 32.4242C88.8343 31.2365 88.4038 29.7519 88.4038 27.9704C88.4038 26.4264 88.7007 25.2238 89.2946 24.3627C89.9181 23.5016 90.6753 22.8929 91.5661 22.5366C92.4568 22.1803 93.3031 22.0022 94.1048 22.0022C93.3031 22.8632 92.6944 23.8134 92.2787 24.8526C91.863 25.8919 91.6551 26.9311 91.6551 27.9704C91.6551 29.069 91.8927 30.0934 92.3678 31.0435C92.8725 31.9937 93.6297 32.7509 94.6392 33.315C95.6488 33.9089 96.9256 34.2058 98.4696 34.2058C99.8057 34.2058 101.112 33.9534 102.389 33.4486C103.666 32.9736 104.705 32.2609 105.507 31.3108C106.338 30.3309 106.754 29.1284 106.754 27.7031C106.754 26.4264 106.427 25.3277 105.774 24.4073C105.121 23.4868 104.274 22.6702 103.235 21.9576C102.226 21.245 101.142 20.5621 99.9839 19.9088C98.8259 19.2556 97.7273 18.5727 96.688 17.8601C95.6785 17.1177 94.8471 16.2715 94.1939 15.3213C93.5406 14.3712 93.214 13.228 93.214 11.8919C93.214 10.6448 93.5109 9.3383 94.1048 7.97245C94.6986 6.60659 95.5449 5.31496 96.6435 4.09757C97.7718 2.88018 99.108 1.90032 100.652 1.15801C102.226 0.386003 103.978 0 105.908 0C107.659 0 108.877 0.430542 109.56 1.29162C110.243 2.12302 110.584 3.1771 110.584 4.45388C110.584 5.52281 110.391 6.68082 110.005 7.9279C109.649 9.1453 109.203 10.3182 108.669 11.4465C108.134 12.5451 107.63 13.4804 107.155 14.2524C106.62 14.1336 106.234 13.911 105.997 13.5843C105.789 13.228 105.685 12.8123 105.685 12.3372C105.685 11.7137 105.818 11.0011 106.086 10.1994C106.353 9.39769 106.65 8.56629 106.976 7.70521C107.333 6.84413 107.645 6.01274 107.912 5.21104C108.179 4.37965 108.313 3.63734 108.313 2.9841C108.313 2.39025 108.134 1.93001 107.778 1.6034C107.422 1.24709 106.769 1.06893 105.818 1.06893C104.423 1.06893 103.131 1.39555 101.944 2.04879C100.756 2.70202 99.7167 3.54826 98.8259 4.5875C97.9351 5.59704 97.2373 6.66597 96.7326 7.79429C96.2575 8.92261 96.0199 9.947 96.0199 10.8675C96.0199 11.9661 96.3317 12.9163 96.9553 13.7179C97.6085 14.49 98.4399 15.2026 99.4494 15.8558C100.459 16.4794 101.528 17.1177 102.656 17.771C103.814 18.3945 104.898 19.0923 105.908 19.8643C106.917 20.6363 107.734 21.5568 108.357 22.6257C109.01 23.6649 109.337 24.9417 109.337 26.456C109.337 28.0001 108.996 29.3659 108.313 30.5536C107.63 31.7116 106.709 32.6915 105.551 33.4932C104.423 34.2949 103.176 34.9036 101.81 35.3193C100.444 35.735 99.0783 35.9428 97.7124 35.9428Z",
    "M73.7421 33.805C72.8216 33.805 72.1832 33.3745 71.8269 32.5134C71.5003 31.682 71.337 30.6725 71.337 29.4848C71.337 28.8909 71.3667 28.2525 71.4261 27.5696C71.4854 26.857 71.5597 26.1592 71.6487 25.4763C70.9955 26.7827 70.2829 28.0447 69.5109 29.2621C68.7686 30.4795 67.9817 31.4742 67.1503 32.2462C66.3189 33.0182 65.443 33.4042 64.5225 33.4042C63.5427 33.4042 62.741 32.9588 62.1174 32.068C61.4939 31.1772 61.1821 30.1231 61.1821 28.9058C61.1821 28.0447 61.3157 27.05 61.583 25.9217C61.8799 24.7933 62.2362 23.6799 62.6519 22.5812C63.0676 21.4826 63.4981 20.577 63.9435 19.8644C64.3889 19.1518 64.7749 18.7954 65.1015 18.7954C65.25 18.7954 65.5618 18.8845 66.0369 19.0627C66.5119 19.2111 66.7495 19.419 66.7495 19.6862C66.4229 20.191 66.022 20.963 65.5469 22.0022C65.0718 23.0415 64.6562 24.1698 64.2998 25.3872C63.9435 26.5749 63.7654 27.6587 63.7654 28.6385C63.7654 28.8761 63.7951 29.2472 63.8545 29.752C63.9138 30.2271 64.0475 30.6576 64.2553 31.0436C64.4928 31.4296 64.8492 31.6226 65.3242 31.6226C66.0072 31.6226 66.7346 31.1921 67.5066 30.331C68.2786 29.4699 69.0506 28.3861 69.8227 27.0797C70.5947 25.7732 71.3221 24.4519 72.0051 23.1157C72.2426 21.8983 72.4356 21.0075 72.5841 20.4434C72.7622 19.8792 72.9404 19.5229 73.1185 19.3744C73.2967 19.1963 73.5194 19.1072 73.7866 19.1072C74.1726 19.1072 74.4844 19.1963 74.7219 19.3744C74.9595 19.5229 75.0782 19.7605 75.0782 20.0871C75.0782 20.1465 75.0634 20.2207 75.0337 20.3098C75.0337 20.3988 75.0188 20.4879 74.9892 20.577C74.7813 21.2896 74.5735 22.1952 74.3656 23.2939C74.1875 24.3628 74.039 25.4763 73.9202 26.6343C73.8015 27.7923 73.7421 28.8761 73.7421 29.8856C73.7421 30.5685 73.8163 31.103 73.9648 31.489C74.1132 31.875 74.3656 32.068 74.7219 32.068C75.1673 32.068 75.6869 31.8008 76.2808 31.2663C76.8746 30.7022 77.4833 29.9747 78.1069 29.0839C78.7601 28.1634 79.3836 27.1687 79.9775 26.0998C80.601 25.0309 81.1504 23.9768 81.6254 22.9376C81.6254 21.3935 81.7294 20.2207 81.9372 19.419C82.1747 18.5876 82.4568 18.0234 82.7834 17.7265C83.1398 17.4296 83.4961 17.2811 83.8524 17.2811C84.4165 17.2811 84.8174 17.489 85.0549 17.9047C85.3222 18.2907 85.4558 18.647 85.4558 18.9736C85.4558 19.1815 85.4112 19.4041 85.3222 19.6417C85.2331 19.8495 85.1143 20.0871 84.9658 20.3543C84.7283 20.7997 84.4908 21.3787 84.2532 22.0913C84.0157 22.7742 83.8969 23.7244 83.8969 24.9418C83.8969 25.4169 83.9415 25.9217 84.0305 26.4561C84.1196 26.9906 84.3126 27.436 84.6095 27.7923C84.9065 28.1486 85.3667 28.3267 85.9902 28.3267C86.6138 28.3267 87.2076 28.0892 87.7718 27.6141C88.3656 27.1094 88.9446 26.2483 89.5088 25.0309L90.0878 25.4763C89.4346 26.9609 88.7071 27.9556 87.9054 28.4604C87.1334 28.9651 86.3911 29.2175 85.6785 29.2175C84.758 29.2175 83.9711 28.9058 83.3179 28.2822C82.6944 27.6587 82.2341 26.7234 81.9372 25.4763C81.1949 26.8421 80.3635 28.1634 79.443 29.4402C78.5226 30.717 77.5724 31.7562 76.5926 32.5579C75.6127 33.3893 74.6625 33.805 73.7421 33.805Z",
    "M43.9218 34.1613C43.0014 34.1613 42.2294 33.8495 41.6058 33.226C40.9526 32.6321 40.626 31.7116 40.626 30.4645C40.626 29.3956 40.8635 28.2525 41.3386 27.0351C41.8137 25.788 42.4669 24.5706 43.2983 23.3829C44.1297 22.1655 45.065 21.0669 46.1042 20.087C47.1732 19.0775 48.2866 18.2758 49.4447 17.6819C50.6324 17.0881 51.8052 16.7911 52.9632 16.7911C54.1212 16.7911 55.0862 17.1029 55.8582 17.7265C56.6303 18.3203 57.0163 19.122 57.0163 20.1315C57.0163 20.8739 56.8084 21.3786 56.3927 21.6459C56.0067 21.9131 55.4871 22.0467 54.8339 22.0467C54.8932 21.8092 54.9378 21.5568 54.9675 21.2896C55.0269 20.9926 55.0565 20.7254 55.0565 20.4879C55.0565 19.8049 54.8932 19.2259 54.5666 18.7508C54.24 18.2461 53.6758 17.9937 52.8741 17.9937C52.0428 17.9937 51.1965 18.2906 50.3354 18.8845C49.4744 19.4486 48.643 20.2206 47.8413 21.2005C47.0396 22.1506 46.3269 23.1899 45.7034 24.3182C45.0799 25.4465 44.5899 26.56 44.2336 27.6586C43.8773 28.7572 43.6992 29.7371 43.6992 30.5982C43.6992 31.7562 44.1 32.3352 44.9017 32.3352C45.5846 32.3352 46.3269 32.0234 47.1286 31.3999C47.9303 30.7466 48.7469 29.9301 49.5783 28.9502C50.4394 27.9407 51.2559 26.9014 52.0279 25.8325C52.7999 24.7636 53.4828 23.7837 54.0767 22.893C54.1955 22.7148 54.2697 22.6257 54.2994 22.6257C54.4775 22.6554 54.7002 22.7148 54.9675 22.8039C55.2644 22.893 55.5168 23.0117 55.7246 23.1602C55.9325 23.3086 56.0364 23.5016 56.0364 23.7392C56.0364 24.0064 55.9028 24.3776 55.6356 24.8527C55.3683 25.298 55.0714 25.8177 54.7448 26.4115C54.4182 27.0054 54.1212 27.6141 53.854 28.2376C53.5868 28.8315 53.4531 29.3956 53.4531 29.9301C53.4531 30.3755 53.5719 30.8209 53.8095 31.2662C54.047 31.6819 54.433 31.8898 54.9675 31.8898C55.7692 31.8898 56.8233 31.3108 58.1297 30.1528C59.4362 28.9651 60.7575 27.1984 62.0937 24.8527L62.5391 25.298C61.9155 26.9014 61.1138 28.3118 60.134 29.5292C59.1541 30.7466 58.1 31.6968 56.9717 32.3797C55.8731 33.0626 54.7893 33.4041 53.7204 33.4041C52.6218 33.4041 51.8052 33.0775 51.2708 32.4243C50.766 31.771 50.5136 31.0584 50.5136 30.2864C50.5136 30.1082 50.5284 29.9152 50.5581 29.7074C50.5878 29.4698 50.6175 29.2323 50.6472 28.9948C49.3704 30.7169 48.1976 32.0086 47.1286 32.8696C46.0894 33.7307 45.0205 34.1613 43.9218 34.1613Z",
    "M34.0044 33.226C32.9949 33.226 32.1932 32.9588 31.5993 32.4243C31.0352 31.8898 30.7531 31.1921 30.7531 30.331C30.7531 29.4402 30.9609 28.5049 31.3766 27.525C31.7923 26.5452 32.1932 25.5802 32.5792 24.63C32.9949 23.6502 33.2027 22.7742 33.2027 22.0022C33.2027 21.0521 32.9206 20.3543 32.3565 19.9089C31.822 19.4338 31.2727 19.0033 30.7086 18.6173C30.0256 20.3691 29.313 22.0319 28.5707 23.6056C27.8284 25.1793 27.2197 26.367 26.7446 27.1687L26.3438 26.4116C26.7594 25.6396 27.2939 24.5112 27.9471 23.0266C28.6301 21.542 29.2982 19.8495 29.9514 17.9492C29.6545 17.6523 29.506 17.296 29.506 16.8803C29.506 15.9895 29.7584 15.262 30.2632 14.6979C30.7679 14.1337 31.1391 13.8516 31.3766 13.8516C31.7033 13.8516 31.8814 14.0001 31.9111 14.297C31.9705 14.5642 32.0002 14.7721 32.0002 14.9206C32.0002 15.069 31.9111 15.3659 31.7329 15.8113C31.5845 16.227 31.5103 16.4794 31.5103 16.5685C31.5103 16.9842 31.7329 17.3702 32.1783 17.7265C32.6534 18.0531 33.1879 18.4391 33.7817 18.8845C34.3756 19.3002 34.8952 19.8198 35.3406 20.4434C35.8157 21.0372 36.0532 21.8092 36.0532 22.7594C36.0532 23.6502 35.8602 24.5558 35.4742 25.4762C35.1179 26.3967 34.7467 27.2726 34.3607 28.104C34.0044 28.9354 33.8263 29.6629 33.8263 30.2864C33.8263 30.8209 33.9599 31.1772 34.2271 31.3554C34.4944 31.5335 34.8061 31.6226 35.1624 31.6226C35.8751 31.6226 36.6025 31.3999 37.3448 30.9545C38.1168 30.5091 38.8592 29.945 39.5718 29.262C40.2844 28.5791 40.9228 27.8665 41.4869 27.1242C42.0511 26.3522 42.4668 25.6396 42.734 24.9863L43.313 25.4317C42.7489 26.6788 41.9769 27.911 40.997 29.1284C40.0172 30.3161 38.9185 31.296 37.7011 32.068C36.5134 32.84 35.2812 33.226 34.0044 33.226Z",
    "M4.76565 35.9428C3.84518 35.9428 2.96925 35.8092 2.13786 35.542C1.30647 35.3044 0.593851 34.77 0 33.9386C0.296925 32.5133 0.653236 30.9842 1.06893 29.3511C1.51432 27.6883 1.9894 25.9958 2.49417 24.2736C2.99895 22.5218 3.50372 20.8145 4.00849 19.1517C4.54296 17.4592 5.04773 15.8855 5.52281 14.4306C5.99789 12.9756 6.42843 11.6989 6.81444 10.6002C7.20044 9.50161 7.49736 8.67022 7.70521 8.10606C7.79429 7.86852 7.94275 7.52706 8.1506 7.08167C8.35845 6.60659 8.61083 6.13151 8.90776 5.65643C9.20468 5.18135 9.54615 4.7805 9.93215 4.45388C10.3182 4.09757 10.7338 3.91941 11.1792 3.91941C11.5949 3.91941 12.0106 4.06788 12.4263 4.3648C11.5059 6.50266 10.5705 8.86322 9.62038 11.4465C8.69991 14.0297 7.80913 16.702 6.94805 19.4635C6.08697 22.1952 5.30012 24.8675 4.5875 27.4804C3.87487 30.0934 3.28102 32.4688 2.80594 34.6066C3.22164 34.666 3.5631 34.7106 3.83034 34.7403C4.12726 34.77 4.42419 34.7848 4.72111 34.7848C6.62143 34.7848 8.44752 34.3394 10.1994 33.4486C11.9809 32.5876 13.6289 31.3999 15.1432 29.8855C16.6872 28.3415 18.0382 26.5897 19.1962 24.63C20.3542 22.6406 21.245 20.5472 21.8685 18.35C22.5218 16.123 22.8484 13.911 22.8484 11.7137C22.8484 9.30861 22.4624 7.33406 21.6904 5.79004C20.9184 4.21634 19.8495 3.05833 18.4836 2.31602C17.1177 1.5737 15.5292 1.20255 13.7179 1.20255C11.7879 1.20255 10.0509 1.58855 8.50691 2.36056C6.9629 3.13256 5.7455 4.1718 4.85473 5.47827C3.96395 6.78474 3.51856 8.25452 3.51856 9.88761C3.51856 10.2439 3.53341 10.5557 3.5631 10.8229C3.62249 11.0902 3.68187 11.3277 3.74126 11.5355C2.76141 11.5355 2.06363 11.298 1.64794 10.8229C1.26193 10.3182 1.06893 9.7243 1.06893 9.04138C1.06893 8.00214 1.42524 6.9629 2.13786 5.92366C2.88018 4.85473 3.88972 3.87488 5.1665 2.9841C6.47297 2.09332 7.97244 1.3807 9.66492 0.846237C11.3574 0.282079 13.1538 0 15.0541 0C17.7264 0 19.8643 0.549312 21.4677 1.64794C23.1008 2.71687 24.2885 4.1718 25.0308 6.01274C25.7731 7.85368 26.1443 9.91731 26.1443 12.2036C26.1443 14.7869 25.7434 17.2662 24.9417 19.6416C24.14 21.9873 23.0266 24.1549 21.6013 26.1443C20.2058 28.104 18.6024 29.8261 16.7911 31.3108C14.9799 32.7657 13.035 33.894 10.9565 34.6957C8.90776 35.5271 6.84413 35.9428 4.76565 35.9428Z",
  ];

  return (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      className="h-[36px] w-[120px] lg:w-[180px] lg:h-[45px]"
      viewBox="0 0 180 45"
      fill="none"
    >
      {/* This is the standard trick to fake "filling" text animations:
        We render the path TWICE.
      */}

      {/* Layer 1: The Fill (Solid) */}
      {/* We animate the Opacity from 0 to 1 with a slight delay so it fades in while drawing */}
      {pathData.map((d, i) => (
        <motion.path
          key={`fill-${i}`}
          d={d}
          fill="white"
          stroke="none"
          initial={{ opacity: 0 }}
          animate={{ opacity: 1 }}
          transition={{
            duration: 1.5,
            ease: "easeInOut",
            repeat: Infinity,
            repeatType: "reverse",
            repeatDelay: 0.5,
            delay: 0.5, // Start fading in slightly after the stroke starts
          }}
        />
      ))}

      {/* Layer 2: The Stroke (Outline) */}
      {/* We animate the PathLength from 0 to 1 */}
      {pathData.map((d, i) => (
        <motion.path
          key={`stroke-${i}`}
          d={d}
          fill="transparent"
          stroke="white"
          strokeWidth="0.5" // Adjust stroke thickness here
          initial={{ pathLength: 0 }}
          animate={{ pathLength: 1 }}
          transition={{
            duration: 2,
            repeat: Infinity,
            repeatType: "reverse",
            ease: "easeInOut",
          }}
        />
      ))}
    </svg>
  );
};

// export default Logo;
